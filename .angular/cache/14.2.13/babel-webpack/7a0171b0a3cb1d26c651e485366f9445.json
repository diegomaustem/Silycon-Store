{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction CartComponent_section_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"p\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"p\", 16);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 17)(11, \"label\", 18);\n    i0.ɵɵtext(12, \" Amount: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_section_0_div_4_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const cartItem_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(cartItem_r4.quantidade = $event);\n    })(\"change\", function CartComponent_section_0_div_4_Template_input_change_13_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.calculateAmount());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 20)(15, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CartComponent_section_0_div_4_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const cartItem_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeCartProduct(cartItem_r4.id));\n    });\n    i0.ɵɵtext(16, \" X \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const cartItem_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", cartItem_r4.imagem, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cartItem_r4.descricao);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 4, cartItem_r4.preco, \"BRL\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", cartItem_r4.quantidade);\n  }\n}\n\nfunction CartComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"section\", 2)(1, \"div\", 3)(2, \"p\", 4);\n    i0.ɵɵtext(3, \"Your Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CartComponent_section_0_div_4_Template, 17, 7, \"div\", 5);\n    i0.ɵɵelementStart(5, \"div\", 6)(6, \"h3\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 8)(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_section_0_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.buy());\n    });\n    i0.ɵɵtext(11, \"Make Payment\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.cartItens);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Amount to pay: \", i0.ɵɵpipeBind2(8, 2, ctx_r0.amount, \"BRL\"), \" \");\n  }\n}\n\nfunction CartComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"h2\");\n    i0.ɵɵtext(3, \"EMPTY CART \");\n    i0.ɵɵelement(4, \"i\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"h3\", 25);\n    i0.ɵɵtext(6, \" #TAKE ADVANTAGE OF OUR PROMOTIONS! \");\n    i0.ɵɵelement(7, \"i\", 26);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(cartService, router) {\n      this.cartService = cartService;\n      this.router = router;\n      this.cartItens = [];\n      this.amount = 0;\n    }\n\n    ngOnInit() {\n      this.cartItens = this.cartService.getCart();\n      this.calculateAmount();\n    }\n\n    calculateAmount() {\n      this.amount = this.cartItens.reduce((prev, curr) => prev + curr.preco * curr.quantidade, 0);\n    }\n\n    removeCartProduct(id) {\n      this.cartItens = this.cartItens.filter(item => item.id !== id);\n      this.cartService.removeCartProduct(id);\n      this.calculateAmount();\n    }\n\n    buy() {\n      alert('Compra realizada com sucesso!');\n      this.cartService.clearCart();\n      this.router.navigate(['/products']);\n    }\n\n  }\n\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"cart\", 4, \"ngIf\", \"ngIfElse\"], [\"notProduct\", \"\"], [1, \"cart\"], [1, \"container\", \"mb-4\"], [1, \"title-cart\", \"text-center\", \"mt-4\"], [\"class\", \"row align-items-center border py-2 mb-2 cart-products\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-4\"], [1, \"card-text\", \"amount-price\"], [1, \"row\", \"mt-2\"], [1, \"btn\", \"btn-make-payment\", 3, \"click\"], [1, \"row\", \"align-items-center\", \"border\", \"py-2\", \"mb-2\", \"cart-products\"], [1, \"col-auto\"], [1, \"img-fluid\", \"rounded\", 2, \"width\", \"80px\", \"height\", \"80px\", \"object-fit\", \"cover\", 3, \"src\"], [1, \"col\", \"text-truncate\"], [1, \"title-product\", \"pt-2\"], [1, \"col\"], [1, \"title-price\", \"pt-2\"], [1, \"col\", \"quantity\", \"d-flex\", \"align-items-center\"], [1, \"form-label\", \"me-2\", \"pr-2\"], [\"type\", \"number\", \"min\", \"1\", 1, \"form-control\", \"form-control-sm\", \"w-auto\", \"text-center\", 2, \"width\", \"70px !important\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-auto\", \"mt-2\", \"mt-sm-0\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"container\"], [1, \"row\", \"justify-content-center\", \"mt-5\"], [1, \"fa-solid\", \"fa-cart-plus\"], [1, \"text-center\", \"mb-5\"], [1, \"fa-regular\", \"fa-face-smile-beam\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartComponent_section_0_Template, 12, 5, \"section\", 0);\n        i0.ɵɵtemplate(1, CartComponent_ng_template_1_Template, 8, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItens.length > 0)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel, i3.CurrencyPipe],\n    styles: [\".title-cart[_ngcontent-%COMP%]{font-size:20px;color:#00000080}.title-product[_ngcontent-%COMP%]{font-size:18px}.title-price[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%]{text-align:left;font-size:18px}.amount-label-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70px}.amount-price[_ngcontent-%COMP%]{color:#2a3042;font-size:18px;font-weight:500}.btn-make-payment[_ngcontent-%COMP%]{color:#fff;background-color:#2a3042}.btn-make-payment[_ngcontent-%COMP%]:hover{background-color:#1d222e}.cart-products[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 4px #0000001a}h3[_ngcontent-%COMP%]{color:#00000080}\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}